<!DOCTYPE html>
<html>
  <head>
    <title>%(title)s</title>
    <meta charset="UTF-8" />

    %(favicon)s

    %(jqueryLIB)s
    %(jqueryUILIB)s
    %(plotlyLIB)s
    %(plotlyexLIB)s
    %(dashboardLIB)s
    %(katexLIB)s
    <!-- XXX(mathjaxLIB)s -->

    %(CSS)s

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

  </head>

  <body>

    <div id="theSidenav" class="sidenav">
      <a href="javascript:void(0)" id="tackbtn" title="Toggle navigation bar auto-hide" onclick="tackNav()">&#8859;</a>
      <div class="linkgroup">
	<a href="#" class="linkgroupheading tablink" onclick="openTab(event, 'Drift')" id="defaultOpen">Drift</a>
      </div>

      %(topSwitchboard)s

    </div>


    <header class="header" role="banner">
      	<h1 class="title">%(title)s</h1>
	<h2 class="author">generated by pyGSTi on %(date)s</h2>
    </header>

    <div id="main">

      <div id="Drift" class="tabcontent">
      </div>

      <!-- <div id="NEWTAB" class="tabcontent">
	<h1>TAB Title</h1>
	<p>Tab text.</p>
      </div> <!-- end tab content -->

      <div id="AjaxError" style="display: none">
    <p><b>Report loading failed!</b><p>
    <p>Your browser does not allow locally-loaded html files to load other local files.  This is a security restriction present in many standard browsers (don't worry).  There are several things you can do to fix this problem:
      <ul>
        <li> <em>(preferred method)</em> You can <b>run a web server</b> to serve up this report locally to your web browser:
          <ul>
            <li> <b>If you have Python installed</b>, run <code>python -m http.server 8000</code> from a command line in the current directory and navigate to <code>localhost:8000/main.html</code> in your web browser.
              <ul>
                <li> <em>Older versions of Python (prior to Python 3.0) must use <code>python -m SimpleHTTPServer 8000</code> instead.</em>
              </ul>
          </ul>
          <ol>
            <li><b>If you use Jupyter notebooks</b> you can use the notebook server to access this main.html page.  You just place <q>files</q> in front of the actual path to main.html (from your notebook server's root).  For example, <q>http://localhost:8888/files/path/to/myReport/main.html</q>.  A trick for accessing files like this is to <b>navigate to main.html using Jupyter's web interface</b> (which sometimes will <i>edit</i> the HTML page instead of opening it) and then changing <q>edit</q> to <q>files</q> in the address bar.  If this doesn't work, you probably need to fix the configuration as described below (the jupyter server isn't quite a full-fledged web server and needs some tweaking).
          </ol>
        <li> If you've loaded the report as a local file (that is, if the URL in your address bar begins with <b><q>file://</q></b>), you can configure your web browser to permit Cross-Origin Resource Sharing (CORS) for local files. The steps to do this depend on your browser:
          <ul>
            <li> <b>Firefox</b>
              <ol>
                <li> In the address bar, navigate to <code>about:config</code>.
                  <ul>
                    <li> <em>You may be prompted to confirm that you know what you're doing. If you'd prefer not to reconfigure your browser's security features, consider using another method.</em>
                  </ul>
                <li> Using the search box, search for <code>security.fileuri.strict_origin_policy</code>.
                <li> Double click on the <code>security.fileuri.strict_origin_policy</code> result to change its value from <code>true</code> to <code>false</code>.
                <li> Reload this page. If you still see this message, you may need to restart Firefox.
              </ol>
            <li> <b>Safari</b>
              <ol>
                <li> Enable the <em>Develop</em> menu, if not already enabled:
                  <ol>
                    <li> Open the <em>Safari</em> menu and select <em>Preferences</em>.
                    <li> Switch to the <em>Advanced</em> tab.
                    <li> Check the box next to <em>Show Develop menu in menu bar</em>.
                  </ol>
                <li> Open the <em>Develop</em> menu and select <em>Disable Local File Restrictions</em>.
              </ol>
            <li> <b>Chrome</b>
              <ul>
                <li> Run Chrome with the <code>--allow-file-access-from-files</code> flag. The procedure for this depends on your operating system:
                  <ul>
                    <li> On Windows, open a command prompt and run the following command:
                      <code>chrome.exe --allow-file-access-from-files</code>
                    <li> On Mac OS X, open a terminal window and run the following command:
                      <code>/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --allow-file-access-from-files</code>
                      <br>
                      <em>(The above Chrome executable path may be different on your system)</em>
                    <li> On Linux, run the binary you usually use to run Chrome (or Chromium) with the <code>--allow-file-access-from-files</code> flag. You may need to close all currently open Chrome windows before doing this.
                  </ul>
              </ul>
          </ul>
        </li>
        <li> If your URL is using a Jupyter notebook server, and begins with <b><q>localhost:8888/files/</q></b> or similar, then the issue is likely due to server and browser cross-domain security restrictions.  Recent versions of Jupyter notebooks, may require a couple modifications to your <code>~/.jupyter/jupyter_notebook_config.py</code> file (created by <code>jupyter notebook --generate-config</code> if it doesn't exist already) to get things working.  Add the following two lines to your configuration file, restart the notebook server, and reload this page.
          <pre><code>c.NotebookApp.allow_origin = 'null'
c.NotebookApp.tornado_settings = { 'headers': { 'Access-Control-Allow-Credentials': 'true' } }</code></pre>
      </ul>
    </p>
      </div>

    </div>

    <div id="status">
      No message
    </div>

    <script type="text/javascript">
      testLocalAjax("tabs/test.html", function(errstatus) {
        console.log("AJAX ERROR: " + errstatus);
        $('#AjaxError').show()
      });
    </script>

  </body>
</html>
